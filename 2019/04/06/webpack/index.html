<!DOCTYPE html><html lang="zh-cn"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> webpackçš„ç¬¬ä¸€æ¬¡å­¦ä¹  Â· InfiniteX</title><meta name="description" content="webpackçš„ç¬¬ä¸€æ¬¡å­¦ä¹  - Yiyang Xu"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="https://infinitexyy.github.io/atom.xml" title="InfiniteX"></head><body><div class="wrap"><header><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">åšå®¢</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">å½’æ¡£</a></li><li class="nav-list-item"><a href="/about/" target="_self" class="nav-list-link">å…³äº</a></li><li class="nav-list-item"><a href="https://github.com/InfiniteXyy" target="_blank" class="nav-list-link">GITHUB</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">webpackçš„ç¬¬ä¸€æ¬¡å­¦ä¹ </h1><div class="post-info">2019å¹´4æœˆ6æ—¥</div><div class="post-content"><p>webpackå¯èƒ½æ˜¯ç°åœ¨ä½¿ç”¨èŒƒå›´æœ€å¹¿çš„å‰ç«¯æ‰“åŒ…å·¥å…·äº†ã€‚(å¦å¤–ä¹Ÿæ˜¯é¢è¯•é¢˜å¸¸è€ƒçš„å†…å®¹ä¹‹ä¸€äº†)</p>
<p>è¿™ç¯‡æ–‡ç« è®°å½•äº†ä»é›¶å¼€å§‹äº†è§£ã€å­¦ä¹ webpackçš„è¿‡ç¨‹ï¼Œä¹Ÿä¸æ˜¯è¯´ä¹‹å‰æ²¡æœ‰ç”¨è¿‡webpackå•¦ï¼Œåªä¸è¿‡é‚£æ—¶å€™éƒ½æ˜¯ç”¨çš„create-react-appæˆ–è€…vue initä¹‹ç±»çš„cliå·¥å…·ï¼Œä¸ºäº†èƒ½å¤Ÿæ›´åŠ äº†è§£è¿™äº›æ‰“åŒ…å·¥å…·ï¼Œæ‰€ä»¥æˆ‘æ‰“ç®—å¥½å¥½çœ‹ä¸€ä¸‹webpack(ä¹‹å‰æŒ–çš„å‘è¿˜æ²¡å¼„å¥½QWQ)</p>
<a id="more"></a>
<h3 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h3><ul>
<li>äº†è§£<ul>
<li>è¿™éƒ¨åˆ†ä»‹ç»webpackçš„ä¸»è¦æ¦‚å¿µã€ä½¿ç”¨åœºæ™¯</li>
<li><strong>æœ€åä¼šç”¨ä¸€å¥è¯å¯¹webpackè¿›è¡Œæ€»ç»“</strong></li>
</ul>
</li>
<li>å­¦ä¹ <ul>
<li>è¿™éƒ¨åˆ†ä»‹ç»webpackåŸºæœ¬é…ç½®</li>
<li>å¦‚ä½•ä½¿ç”¨loaderã€æ’ä»¶ã€ç¯å¢ƒ</li>
<li><strong>æœ€åä¼šæ‰‹åŠ¨åœ°æ–°å»ºä¸€ä¸ª<code>React</code>çš„é¡¹ç›®</strong></li>
</ul>
</li>
<li>ç»†èŠ‚(è¿™éƒ¨åˆ†ä¼šåœ¨webpack(äºŒ)è®°å½•)<ul>
<li>è¿™éƒ¨åˆ†ä»‹ç»webpackçš„ä½¿ç”¨ç»†èŠ‚</li>
<li>æ¶‰åŠä¸€å°éƒ¨åˆ†çš„åŸç†</li>
<li><strong>æœ€åä¼šå°è¯•å®ç°ä¸€ä¸ªæœ€æœ€easyçš„æ‰“åŒ…å·¥å…·</strong></li>
</ul>
</li>
</ul>
<hr>
<h3 id="äº†è§£"><a href="#äº†è§£" class="headerlink" title="äº†è§£"></a>äº†è§£</h3><p>ä½ æ˜¯å¦é‡åˆ°è¿‡è¿™æ ·çš„æƒ…å†µï¼Ÿå½“ä½ æƒ³å¼€å‘ä¸€ä¸ªé¡¹ç›®ã€‚èµ·åˆï¼Œä½ åªæœ‰ä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œä¸€åˆ‡çœ‹èµ·æ¥éƒ½æ˜¯é‚£ä¹ˆç®€å•è½»æ¾ï¼Œä½†å½“ä»£ç è¡Œæ•°é€æ¸å˜å¤šçš„æ—¶å€™ï¼Œåœ¨ä¸€ä¸ªæ–‡ä»¶é‡Œé¢å†™ä»£ç å·²ç»å®Œå…¨åƒä¸æ¶ˆäº†ã€‚äºæ˜¯ï¼Œä½ å¼€å§‹æŠŠä»£ç åˆ†æ•£åœ¨ä¸åŒçš„æ–‡ä»¶é‡Œï¼Œä¾‹å¦‚ï¼Œæ ·å¼æ”¾åˆ°cssï¼Œè„šæœ¬æ”¾åˆ°jsé‡Œï¼Œåœ¨é¡¹ç›®æ¯”è¾ƒå°çš„æ—¶å€™ï¼Œè¿™ä¼¼ä¹ä¹Ÿæ²¡ä»€ä¹ˆé—®é¢˜ï¼Œä½†éšç€é¡¹ç›®çš„å˜å¤§ï¼Œä½ çš„htmlé‡Œé“¾æ¥äº†å„ç§è„šæœ¬ï¼Œè¿™ä½¿ä½ ç»´æŠ¤èµ·æ¥å³ä¸ºéº»çƒ¦ã€‚</p>
<p>è¦æ˜¯èƒ½æœ‰ä¸€ä¸ªå·¥å…·ï¼Œèƒ½è‡ªåŠ¨å¸®æˆ‘æŠŠåˆ†æ•£çš„è„šæœ¬æ•´åˆèµ·æ¥å°±å¥½å•¦ï¼ŒåŒæ—¶æˆ‘ä¹Ÿä¸éœ€è¦è€ƒè™‘å¼•å…¥çš„é¡ºåºOMGã€‚</p>
<p>webpackå°±æ˜¯è¿™æ ·ä¸€ä¸ªå·¥å…·ã€‚</p>
<p>ç®€å•è€Œè¨€ï¼Œå®ƒåšçš„å°±æ˜¯å°†åˆ†ç¦»çš„æ¨¡å—æ‰“åŒ…åœ¨ä¸€èµ·çš„åŠŸèƒ½ã€‚è¿™é‡Œçš„æ¨¡å—åŒ…æ‹¬cssæ–‡ä»¶ã€jsè„šæœ¬ã€å›¾ç‰‡ç­‰ç­‰ã€‚</p>
<p><strong>å®ƒæœ‰ä»¥ä¸‹ä¸¤ä¸ªæ ¸å¿ƒæ¦‚å¿µ</strong>ï¼Œå¤§æ¦‚å°±é‚£ä¹ˆç®€å•ï¼</p>
<ul>
<li><p>å…¥å£èµ·ç‚¹ã€å‡ºå£</p>
<ul>
<li>ä»å“ªé‡Œå¼€å§‹è¯»å–æ¨¡å—</li>
<li>æ•´åˆå‡ºæ¥çš„<em>bundles</em>å¯¼å‡ºåˆ°å“ªé‡Œ</li>
</ul>
</li>
<li><p>loader</p>
<ul>
<li>å°†ä¸åŒç±»å‹çš„æ–‡ä»¶ï¼ˆæ ¹æ®æ–‡ä»¶ååˆ¤æ–­ï¼‰éƒ½è½¬åŒ–ä¸ºwebpackè®¤è¯†çš„æ¨¡å—</li>
<li>å¼•ç”¨å®˜ç½‘çš„ä¸€å¥è¯</li>
</ul>
<blockquote>
<p>â€œå˜¿ï¼Œwebpack ç¼–è¯‘å™¨ï¼Œå½“ä½ ç¢°åˆ°ã€Œåœ¨ <code>require()</code>/<code>import</code> è¯­å¥ä¸­è¢«è§£æä¸º â€˜.txtâ€™ çš„è·¯å¾„ã€æ—¶ï¼Œåœ¨ä½ å¯¹å®ƒæ‰“åŒ…ä¹‹å‰ï¼Œå…ˆ<strong>ä½¿ç”¨</strong> <code>raw-loader</code> è½¬æ¢ä¸€ä¸‹ã€‚â€</p>
</blockquote>
</li>
</ul>
<p>å¦å¤–ï¼Œwebpackè¿˜æä¾›<strong>æ’ä»¶</strong>çš„åŠŸèƒ½ï¼Œå¯ä»¥åœ¨æ‰“åŒ…çš„åŒæ—¶å¯¹ä»£ç è¿›è¡Œå„ç§æ“ä½œï¼Œ(ä¾‹å¦‚å‹ç¼©ç­‰ç­‰)ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸åŒ<strong>æ¨¡å¼</strong>ï¼Œè®©webpackæ ¹æ®å¼€å‘ç¯å¢ƒçš„ä¸åŒé€‰æ‹©ä¸åŒçš„ç­–ç•¥ã€‚</p>
<p><strong>ä¸€å¥è¯æ€»ç»“</strong></p>
<p><strong>webpack</strong>æ˜¯ä¸€ä¸ªç”¨æ¥å°†å¤šä¸ªæ–‡ä»¶æ‰“åŒ…çš„å·¥å…·ï¼Œå¯ä»¥è®¾ç½®<strong>loader</strong>æ¥å¯¹ä¸åŒç§ç±»çš„æ–‡ä»¶æ‰“åŒ…ï¼ŒåŒæ—¶å¯ä»¥ç”¨<strong>æ’ä»¶</strong>æ‰©å±•webpackçš„æ‰“åŒ…åŠŸèƒ½ã€‚</p>
<hr>
<h3 id="å­¦ä¹ "><a href="#å­¦ä¹ " class="headerlink" title="å­¦ä¹ "></a>å­¦ä¹ </h3><p>é‚£ä¹ˆç°åœ¨å·²ç»äº†è§£äº†åŸºæœ¬ç”¨é€”å•¦ï¼</p>
<p>çœ‹çœ‹æ€ä¹ˆä½¿ç”¨å§ã€‚</p>
<p><strong>å®‰è£…</strong></p>
<p>å’Œå¾ˆå¤šå…¶ä»–å·¥å…·ä¸€æ ·ï¼Œwebpackæ˜¯ä¸€ä¸ªnodejsçš„packageï¼Œç”±äºwebpackæ˜¯å¼€å‘è¿‡ç¨‹ä¸­çš„æ‰“åŒ…å·¥å…·ï¼Œå› æ­¤ä¿å­˜ä¸ºdevDependanceã€‚</p>
<p>(webpack4 + éœ€è¦å®‰è£…webpack-cliï¼Œè¿™æ ·å¯ä»¥åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œwebpack)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add webpack webpack-cli -D</span><br><span class="line"><span class="comment"># æˆ–è€…npm</span></span><br><span class="line">npm install --save-dev webpack webpack-cli</span><br></pre></td></tr></table></figure>
<p><strong>å°è¯•</strong></p>
<p>åˆ›å»ºä¸€ä¸ªhtmlæ–‡ä»¶<code>index.html</code>ï¼Œå’Œä¸€ä¸ªjsæ–‡ä»¶<code>src/index.js</code>(è¿™æ˜¯é»˜è®¤çš„å…¥å£å‡ºå£)ï¼Œè¯•è¯•çœ‹æ‰“åŒ…å§ã€‚è¿è¡Œ npx webpackã€‚</p>
<p>è¿™æ ·è„šæœ¬å°±è¢«æ‰“åŒ…åˆ°ä¸€ä¸ªmain.jsæ–‡ä»¶ä¸­å•¦(é»˜è®¤çš„å‡ºå£)ï¼Œå¦‚æœä½ æœ‰å…¶ä»–ä¾èµ–çš„è¯ï¼Œwebpackä¹Ÿä¼šè‡ªåŠ¨æŠŠå®ƒä»¬æ‰“åŒ…è¿›main.jsã€‚</p>
<p>æœ‰è¶£çš„æ˜¯ï¼Œwebpackè‡ªå¸¦äº†å¯¹<code>import</code>ã€<code>export</code>çš„æ”¯æŒï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¸éœ€è¦å†™requireå•¦ï¼Œå…¶å®ƒes6ç‰¹æ€§ï¼Œéœ€è¦babelç­‰è½¬è¯‘å™¨çš„å¸®åŠ©ã€‚</p>
<p><strong>é…ç½®</strong></p>
<p>å¦‚æœåªæœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œé‚£ä¹ˆwebpackè¿˜è¿œè¿œè¾¾ä¸åˆ°å®ƒè‡ªç§°é«˜å¯é…ç½®æ€§çš„è¦æ±‚ã€‚</p>
<p>äº‹å®ä¸Šï¼Œå¤§éƒ¨åˆ†ï¼ˆæ‰€æœ‰ï¼‰çš„é¡¹ç›®éƒ½éœ€è¦é…ç½®æ–‡ä»¶æ¥ç®¡ç†ã€‚</p>
<p>ä»–å°±æ˜¯å¤§åé¼é¼çš„<code>webpack.config.js</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ªjsæ–‡ä»¶ï¼Œæ‰€ä»¥ï¼Œéœ€è¦é€šè¿‡<code>module.exports</code>æ¥å¯¼å‡ºé…ç½®å¯¹è±¡ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰é…ç½®æ–‡ä»¶çš„è¯ï¼Œå°±æ˜¯è¿™æ ·çš„é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./src/index.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'main.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>Loader</strong></p>
<p>webpacké»˜è®¤åªèƒ½åŠ è½½jsæ¨¡å—ï¼Œå¯¹äºå…¶å®ƒï¼ˆä¾‹å¦‚cssï¼‰æ–‡ä»¶ï¼Œéœ€è¦å¯¹åº”çš„loaderæ¥åŠ è½½ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add style-loader css-loader -D </span><br><span class="line"><span class="comment"># style-loaderå¤„ç†importå’Œrequireçš„åŠ è½½</span></span><br><span class="line"><span class="comment"># css-loaderå°†æ ·å¼æ·»åŠ åˆ°é¡µé¢</span></span><br></pre></td></tr></table></figure>
<p>å®‰è£…å®Œæˆåï¼Œä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå‘module.rulesä¸­æ·»åŠ å±æ€§ï¼Œæ³¨æ„è¿™é‡Œæœ‰ä¸ªå°å‘çš„åœ°æ–¹ï¼Œloaderæ˜¯æŒ‰é¡ºåºåŠ è½½çš„ï¼Œæ‰€ä»¥style-loaderéœ€è¦åœ¨css-loaderä¹‹å‰ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">      use: [</span><br><span class="line">        <span class="string">'style-loader'</span>,</span><br><span class="line">        <span class="string">'css-loader'</span></span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å…¶å®ƒloaderè¿˜æœ‰file-loader(åŠ è½½å›¾ç‰‡ã€å­—ä½“ç­‰)ï¼Œcsv-loader xml-loaderç­‰ç­‰</p>
<p><strong>æ’ä»¶</strong></p>
<p>ä½¿ç”¨æ’ä»¶å‡å°‘å¾ˆå¤šç¹æ‚çš„åŠ³åŠ¨ã€‚ä¾‹å¦‚ï¼šä½œä¸ºå•é¡µé¢åº”ç”¨å…¥å£çš„htmlæ–‡ä»¶ï¼Œå…¶å®å¹¶æ²¡æœ‰ä»€ä¹ˆå†…å®¹ï¼Œä½†æ˜¯å¦‚æœå› ä¸ºæ¨¡å—å…¥å£çš„åå­—å‘ç”Ÿæ”¹å˜è€Œä¸å¾—ä¸å»ä¿®æ”¹htmlä»£ç çš„è¯ï¼Œæ˜¯éå¸¸å½±å“ä½“éªŒçš„ã€‚</p>
<p>è¿™é‡Œå¯ä»¥å®‰è£…HtmlWebpackPluginè‡ªåŠ¨æ ¹æ®æ¨¡æ¿ç”Ÿæˆç½‘é¡µæ–‡ä»¶ï¼Œæˆ–æ˜¯CleanWebpackPluginæ¥æ¸…ç†distä¸­çš„è¿‡æœŸå†…å®¹ã€‚</p>
<p><strong>å¿…è¦çš„æ‚é¡¹</strong></p>
<ul>
<li>devtool: â€˜inline-source-mapâ€™ ç”¨æ¥å®šä½æ‰“åŒ…åçš„ä»£ç å±äºå“ªä¸ªæ–‡ä»¶</li>
<li>å¼€å‘çƒ­æ›´æ–°<ul>
<li><code>webpack --watch</code>å¯ä»¥è§‚å¯Ÿæ‰€æœ‰çš„ä¾èµ–æ–‡ä»¶æ˜¯å¦å‘ç”Ÿäº†ä¿®æ”¹</li>
<li><code>webpack-dev-server</code>æä¾›ä¸€ä¸ªwebæœåŠ¡å™¨ï¼Œè‡ªåŠ¨å¯¹å†…å®¹çš„å˜æ›´è¿›è¡Œè·Ÿè¸ª</li>
<li><code>webpack-dev-middleware</code>æä¾›ä¸€ä¸ªä¸­é—´ä»¶ï¼Œå°†webpackæ‰“åŒ…çš„å†…å®¹ä¼ é€’åˆ°ä¾‹å¦‚expressçš„æœåŠ¡å™¨ä¸­</li>
</ul>
</li>
<li>æ¨¡å—çƒ­æ›¿æ¢</li>
</ul>
<p><strong>æ¥ä¸‹æ¥ï¼Œå¯ä»¥å°è¯•å¼€å§‹æ„å»ºä¸€ä¸ªReacté¡¹ç›®äº†</strong></p>
<p>é¦–å…ˆæ˜¯æ–°å»ºnodeé¡¹ç›®ï¼Œå®‰è£…webpackã€babelã€webpack-dev-serverç­‰å¼€å‘ä¾èµ–</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mkdir hello-react</span><br><span class="line"><span class="built_in">cd</span> hello-react</span><br><span class="line">yarn init</span><br><span class="line"><span class="comment"># å…ˆæŠŠä¹‹å‰æ‰€å­¦çš„å¼„ä¸Šå§ï¼</span></span><br><span class="line">yarn add -D webpack webpack-cli webpack-dev-server</span><br><span class="line"><span class="comment"># åŸºæœ¬ä¸Šéƒ½ä¼šç”¨ä¸Šçš„æ’ä»¶</span></span><br><span class="line">yarn add -D clean-webpack-plugin html-webpack-plugin</span><br></pre></td></tr></table></figure>
<p>ç¼–è¾‘é…ç½®æ–‡ä»¶å’Œpackage.json(ä¸»è¦æ˜¯buildå’Œstartçš„æŒ‡ä»¤ï¼Œåœ¨æ­¤ä¸å†èµ˜è¿°å•¦)</p>
<p>å…¶ä¸­index.htmlå°±æ˜¯ä¸€ä¸ªåªè¦ä¸€ä¸ªidä¸ºrootçš„divçš„æ¨¡æ¿ã€‚ç”¨äºä¹‹åreactç»‘å®šcomponent</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">'html-webpack-plugin'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./index.js'</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'bundle.js'</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">'dist'</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  devServer: &#123;</span><br><span class="line">    contentBase: <span class="string">'./dist'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;</span><br><span class="line">      template: <span class="string">'./index.html'</span></span><br><span class="line">    &#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>è¿è¡Œyarn startï¼Œåº”è¯¥å°±å¯ä»¥æ­£ç¡®è¿è¡Œå•¦ã€‚</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">"scripts": &#123;</span><br><span class="line">  "start": "webpack-dev-server --open",</span><br><span class="line">  "build": "webpack"</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¥ä¸‹æ¥å°±è¦å¼€å§‹å®‰è£…reactäº†ï¼Œè¿™è¿˜æ˜¯æˆ‘ç¬¬ä¸€æ¬¡ä¸ç”¨craå‘¢ï¼Œæœ‰ç‚¹å°ç´§å¼ ã€‚</p>
<p>é¦–å…ˆå®‰è£…å¿…è¦çš„ä¾èµ–(Reactå’ŒReact-domæ˜¯ä¸€èµ·å®‰è£…çš„ï¼Œå‰è€…æ˜¯æ ¸å¿ƒåº“ï¼Œåè€…ç”¨äºæ“ä½œdomï¼Œè™½ç„¶è¯´é€šå¸¸åªä¼šç”¨åˆ°ReactDom.renderã€‚ã€‚ã€‚)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add react react-dom <span class="comment"># è¿™æ¬¡ä¸æ˜¯å¼€å‘ä¾èµ–äº†ï¼Œä¸éœ€è¦å‚æ•°-D</span></span><br></pre></td></tr></table></figure>
<p>å°è¯•åƒcreate-react-appä¸€æ ·åœ°å†™ä¸€ä¸ªå…¥å£</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> ReactDOM <span class="keyword">from</span> <span class="string">'react-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> App <span class="keyword">from</span> <span class="string">'./src/App'</span>;</span><br><span class="line"></span><br><span class="line">ReactDOM.render(&lt;App /&gt;, document.getElementById('root'));</span><br></pre></td></tr></table></figure>
<p>ç¼–è¯‘é”™è¯¯ï¼jsxè¯­æ³•ä¸èƒ½è¢«è¯†åˆ«ï¼Œç„¶åclassä½œä¸ºes6æ¨¡å—ä¹Ÿæ²¡æ³•è¢«æµè§ˆå™¨ç†è§£ï¼Œè¿˜éœ€è¦babelç­‰è§£æå™¨çš„æ”¯æŒï¼</p>
<p>å®‰è£…loaderå’Œpresetå’Œbabelcore<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add -D babel-core babel-loader babel-preset-env babel-preset-react <span class="comment"># å¹¶ä¸æ˜¯å®Œå…¨ä½“ï¼Œä½†åº”è¯¥å¤Ÿç”¨</span></span><br></pre></td></tr></table></figure></p>
<p>loaderç”¨äºwebpackï¼Œpresetç”¨äºbabelç¿»è¯‘reactè¯­æ³•ï¼Œå’Œes6ï¼Œes7</p>
<p>å®‰è£…å®Œä»¥åï¼Œè®¾ç½®babelrcï¼Œå¹¶åœ¨webpackä¸­åŠ å…¥loader</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// babel.rcæˆ–è€…åœ¨package.json</span><br><span class="line">&#123; <span class="attr">"presets"</span>: [<span class="string">"env"</span>, <span class="string">"react"</span>] &#125;</span><br><span class="line"></span><br><span class="line">// webpack.config.js</span><br><span class="line">module: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    ...</span><br><span class="line">    &#123; test: /\.js$/, use: 'babel-loader' &#125;</span><br><span class="line">    ...</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>å†è¯•è¯•çœ‹ï¼Œæ˜¯ä¸æ˜¯èƒ½è¿è¡Œäº†å‘¢ï¼Ÿ</p>
<p>ä»¥ä¸Šå°±æ˜¯ä¸€ä¸ªç®€å•çš„Reacté¡¹ç›®ã€‚å½“ç„¶è¿˜æœ‰å¾ˆå¤šå¯ä»¥ä¼˜åŒ–çš„åœ°æ–¹ï¼Œç”Ÿäº§å¼€å‘ç¯å¢ƒä¼˜åŒ–ç¨‹åº¦åˆ†ç¦»ã€æ¨¡å—çƒ­æ›¿æ¢ã€‚ç­‰ç­‰ã€‚å¦å¤–ï¼Œä¸‹æ¬¡è¯•è¯•çœ‹ä½¿ç”¨TypeScriptå§ï¼ğŸ˜</p>
<hr>
<h3 id="ç»†èŠ‚"><a href="#ç»†èŠ‚" class="headerlink" title="ç»†èŠ‚"></a>ç»†èŠ‚</h3><p>Will be available soon before 2018/4/10.</p>
</div></article></div></main><footer><div class="paginator"><a href="/2019/04/12/minipack/" class="prev">ä¸Šä¸€ç¯‡</a><a href="/2019/04/02/realm-learn/" class="next">ä¸‹ä¸€ç¯‡</a></div><div id="gitalk-container"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script><script>var gitalk = new Gitalk({
    clientID: 'b6e1047fa622a6e8f554',
    clientSecret: '37f6dc0c4c6ed7892e12f214b2ea319edb968f9e',
    repo: 'InfiniteXyy.github.io',
    owner: 'InfiniteXyy',
    admin: 'InfiniteXyy',
    id: window.location.pathname,
    distractionFreeMode: false  // Facebook-like distraction free mode
})
gitalk.render('gitalk-container')</script><div class="copyright"><p>Â© 2019 <a href="https://infinitexyy.github.io">Yiyang Xu</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>