(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},109:function(e,t,a){},134:function(e,t,a){},136:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(16),c=a.n(l),i=a(9),o=a(10),u=a(12),s=a(11),m=a(13),d=a(23),p=a(15),h=a(49),g=a(64),E=a(24),f="SELECT_SEARCH_ENGINE";var b={baidu:{title:"\u767e\u5ea6",url:"https://www.baidu.com/s?wd="},google:{title:"\u8c37\u6b4c",url:"https://www.google.com/search?q=123"}};var v={searchEngine:"baidu"},O=a(34),y=a(50),w=a(48),j=a.n(w),k=a(65),C=a(66),N="ON_LOAD",S="UPDATE_DATA",x="ADD_WIDGET",T="REMOVE_WIDGET",D=["weather","poem","music"],A={widgets:[],loading:[],data:{}};var R=Object(p.c)({appReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return Object(E.a)({},e,{searchEngine:t.title});default:return e}},widgetReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(E.a)({},e,{loading:[].concat(Object(y.a)(e.loading),[t.title])});case S:return Object(E.a)({},e,{data:Object(E.a)({},e.data,Object(O.a)({},t.title,t.payload)),loading:e.loading.filter(function(e){return e!==t.title})});case x:return Object(E.a)({},e,{widgets:[].concat(Object(y.a)(e.widgets),[t.title])});case T:return Object(E.a)({},e,{widgets:e.widgets.filter(function(e){return e!==t.title})});default:return e}}}),W=(a(101),a(69)),B=a.n(W),L=a(70),_=a(145),F=(a(104),a(105),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",{className:"lds-ellipsis"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),I=(a(106),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.weather;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"left"},r.a.createElement(_.a.Title,null,"\u5929\u6c14"),r.a.createElement("div",{className:"weather-header"},r.a.createElement(_.a.Subtitle,null,e.data.wendu,"\xb0C"),r.a.createElement("div",{className:"city-info"},e.cityInfo.city))),r.a.createElement("div",{className:"right"},r.a.createElement("div",{className:"tip-container"},r.a.createElement("h4",null,"\u6e7f\u5ea6"),r.a.createElement("p",null,e.data.shidu)),r.a.createElement("div",{className:"tip-container"},r.a.createElement("h4",null,"\u7a7a\u6c14\u8d28\u91cf"),r.a.createElement("p",null,e.data.quality)),r.a.createElement("div",{className:"tip-container"},r.a.createElement("h4",null,"\u5efa\u8bae"),r.a.createElement("p",null,e.data.ganmao))))}}]),t}(n.Component)),H=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.poem,t=e.result.title;return t.length>=7&&(t=t.slice(0,7)+"..."),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"left"},r.a.createElement(_.a.Title,null,"\u8bd7\u8bcd"),r.a.createElement("div",null,r.a.createElement("div",{className:"weather-header"},r.a.createElement(_.a.Subtitle,null,e.result.authors),r.a.createElement("p",{className:"city-info",style:{fontSize:26}},t)))),r.a.createElement("div",{className:"right",style:{justifyContent:"flex-start"}},e.result.content.split("|").map(function(e,t){return r.a.createElement("p",{key:t},e)})))}}]),t}(n.Component),P=a(137),G=(a(107),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.music;return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%"}},r.a.createElement(_.a.Title,null,"\u97f3\u4e50"),r.a.createElement("div",{className:"table-responsive"},r.a.createElement(P.a,{hover:!0,className:"music-table",style:{minWidth:600}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u97f3\u4e50\u6807\u9898"),r.a.createElement("th",null,"\u6b4c\u624b"),r.a.createElement("th",null,"\u4f20\u8bb0"))),r.a.createElement("tbody",null,e.result[0].content.map(function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("th",null,t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.author),r.a.createElement("td",null,e.album_title))})))))}}]),t}(n.Component)),U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={open:!0},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.type;this.props.loadWidget(e)}},{key:"render",value:function(){var e,t=this.props,a=t.data,n=t.type,l=t.loading;switch(n){case"poem":var c=a.poem;e=c&&r.a.createElement(H,{poem:c});break;case"music":var i=a.music;e=i&&r.a.createElement(G,{music:i});break;case"weather":var o=a.weather;e=o&&r.a.createElement(I,{weather:o});break;default:e=r.a.createElement("div",null)}return r.a.createElement(_.a,{style:{marginTop:20,minWidth:300}},-1!==l.indexOf(n)?r.a.createElement(F,null):r.a.createElement(_.a.Body,null,e))}}]),t}(n.Component),z=Object(d.b)(function(e){var t=e.widgetReducer;return{data:t.data,loading:t.loading}},function(e){return{loadWidget:function(t,a){return e(function(e,t){return function(){var a=Object(k.a)(j.a.mark(function a(n){var r;return j.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:N,title:e}),a.next=3,C.a[e].load(t);case 3:r=a.sent,n({type:S,title:e,payload:r});case 5:case"end":return a.stop()}},a)}));return function(e){return a.apply(this,arguments)}}()}(t,a))}}})(U),M=a(138),q=a(139),J=a(77),K=a(140),V=a(76),Y=a(144),Q=a(142),X=a(141),Z=a(143),$=(a(108),a(109),a(71)),ee=a.n($),te={weather:"\u5929\u6c14",poem:"\u6bcf\u65e5\u8bd7\u8bcd",music:"\u97f3\u4e50\u699c\u5355"},ae=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={settingOpen:!1,componentListOpen:!1},a.toggleSetting=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){a.setState({settingOpen:e})}},a.toggleComponent=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){a.setState({componentListOpen:e})}},a.handleToggleWidget=function(e){return function(){var t=-1!==a.props.widgets.indexOf(e);a.props.toggleWidget(e,!t)}},a.toggleSelectEngine=function(e){a.props.toggleSearchEngine(e.target.value)},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(Y.a,{bg:"transparent"},r.a.createElement(M.a,null,r.a.createElement(Q.a,{className:"ml-auto"},r.a.createElement(Q.a.Link,{onClick:this.toggleSetting()},"\u8bbe\u7f6e"),r.a.createElement(Q.a.Link,{onClick:this.toggleComponent()},"\u7ec4\u4ef6"))),r.a.createElement(X.a,{show:this.state.settingOpen,onHide:this.toggleSetting(!1)},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"\u8bbe\u7f6e")),r.a.createElement(X.a.Body,null,r.a.createElement(Z.a.Group,{as:q.a},r.a.createElement(Z.a.Label,{column:!0,md:"8",sm:"8",xs:"8"},"\u641c\u7d22\u5f15\u64ce"),r.a.createElement(J.a,{md:"4",sm:"4",xs:"4"},r.a.createElement(Z.a.Control,{value:this.props.searchEngine,as:"select",onChange:this.toggleSelectEngine},Object.keys(b).map(function(e,t){return r.a.createElement("option",{value:e,key:e},b[e].title)})))))),r.a.createElement(X.a,{show:this.state.componentListOpen,onHide:this.toggleComponent(!1)},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"\u7ec4\u4ef6")),r.a.createElement(X.a.Body,null,D.map(function(t,a){return r.a.createElement("div",{className:"label",key:a},r.a.createElement("div",null,te[t]),r.a.createElement(ee.a,{icons:!1,onChange:e.handleToggleWidget(t),checked:-1!==e.props.widgets.indexOf(t)}))}))))}}]),t}(n.Component),ne=Object(d.b)(function(e){var t=e.widgetReducer,a=e.appReducer;return{widgets:t.widgets,searchEngine:a.searchEngine}},function(e){return{toggleWidget:function(t,a){return e(function(e,t){return{type:t?x:T,title:e}}(t,a))},toggleSearchEngine:function(t){return e(function(e){return{type:f,title:e}}(t))}}})(ae),re=(a(134),a(78)),le=a.n(re),ce=a(79),ie=a.n(ce),oe=a(80),ue=a.n(oe),se={baidu:ie.a,google:ue.a},me=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={text:"",focus:!1},a.handleChange=function(e){a.setState({text:e.target.value})},a.toggleFocus=function(e){return function(){a.setState({focus:e})}},a.handleSearch=function(){""!==a.state.text&&(window.location.href=a.props.searchEngineUrl+a.state.text)},a.keyPress=function(e){13===e.keyCode&&a.handleSearch()},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ne,null),r.a.createElement(M.a,null,r.a.createElement(q.a,{style:{marginTop:"10%"},className:"text-center"},r.a.createElement(J.a,{md:{span:8,offset:2}},r.a.createElement("p",{style:{color:"#9b9b9b",fontSize:32,marginBottom:4}},"TODAY"),r.a.createElement("p",{style:{color:"#4a4a4a",fontSize:60}},le()().format("M\u6708D\u65e5")))),r.a.createElement(q.a,{style:{marginTop:"5%"}},r.a.createElement(J.a,{lg:{span:8,offset:2}},r.a.createElement("div",{className:"input-wrapper ".concat(this.state.focus&&"input-wrapper-shadow")},r.a.createElement(K.a,null,r.a.createElement(V.a,{onKeyDown:this.keyPress,onFocus:this.toggleFocus(!0),onBlur:this.toggleFocus(!1),placeholder:"\u8f93\u5165\u6587\u672c",onChange:this.handleChange,value:this.state.text}),r.a.createElement(K.a.Append,{onClick:this.handleSearch},r.a.createElement("img",{height:22,width:22,src:se[this.props.searchEngine]})))))),r.a.createElement(q.a,{style:{marginBottom:100}},r.a.createElement(J.a,{lg:{span:8,offset:2}},this.props.widgets.map(function(e,t){return r.a.createElement(z,{type:e,key:t})})))))}}]),t}(n.Component),de=Object(d.b)(function(e){var t=e.widgetReducer,a=e.appReducer;return{widgets:t.widgets,searchEngineUrl:b[a.searchEngine].url,searchEngine:a.searchEngine}})(me),pe={key:"root",storage:B.a},he=Object(p.d)(Object(h.a)(pe,R),Object(p.a)(g.a)),ge=Object(h.b)(he),Ee=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:he},r.a.createElement(L.a,{loading:null,persistor:ge},r.a.createElement(de,null)))}}]),t}(n.Component);c.a.render(r.a.createElement(Ee,null),document.getElementById("root"))},66:function(e,t,a){"use strict";(function(e){var n=a(67),r=a.n(n),l=a(68),c=a.n(l),i=r()(c.a,e.Promise),o=function(e){return e.body},u=(encodeURIComponent,function(e){return i.get("".concat(e)).then(o)}),s={weather:{load:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:101020100;return u("http://t.weather.sojson.com/api/weather/city/".concat(e))}},poem:{load:function(){return u("https://api.apiopen.top/recommendPoetry")}},music:{load:function(){return u("https://api.apiopen.top/musicRankings")}}};t.a=s}).call(this,a(40))},79:function(e,t,a){e.exports=a.p+"static/media/baidu.0692bd59.svg"},80:function(e,t,a){e.exports=a.p+"static/media/google.d4d1faad.svg"},81:function(e,t,a){e.exports=a(136)}},[[81,1,2]]]);